const blocks = [
  {
    vertices: [
      {
        x: 75,
        y: 96
      },
      {
        x: 352,
        y: 96
      },
      {
        x: 352,
        y: 115
      },
      {
        x: 75,
        y: 115
      }
    ]
  },
  {
    vertices: [
      {
        x: 563,
        y: 91
      },
      {
        x: 700,
        y: 91
      },
      {
        x: 700,
        y: 110
      },
      {
        x: 563,
        y: 110
      }
    ]
  },
  {
    vertices: [
      {
        x: 723,
        y: 91
      },
      {
        x: 851,
        y: 91
      },
      {
        x: 851,
        y: 110
      },
      {
        x: 723,
        y: 110
      }
    ]
  },
  {
    vertices: [
      {
        x: 881,
        y: 91
      },
      {
        x: 1015,
        y: 91
      },
      {
        x: 1015,
        y: 110
      },
      {
        x: 881,
        y: 110
      }
    ]
  },
  {
    vertices: [
      {
        x: 566,
        y: 155
      },
      {
        x: 591,
        y: 157
      },
      {
        x: 590,
        y: 174
      },
      {
        x: 565,
        y: 172
      }
    ]
  },
  {
    vertices: [
      {
        x: 65,
        y: 133
      },
      {
        x: 516,
        y: 133
      },
      {
        x: 516,
        y: 298
      },
      {
        x: 65,
        y: 298
      }
    ]
  },
  {
    vertices: [
      {
        x: 66,
        y: 312
      },
      {
        x: 205,
        y: 312
      },
      {
        x: 205,
        y: 423
      },
      {
        x: 66,
        y: 423
      }
    ]
  },
  {
    vertices: [
      {
        x: 562,
        y: 409
      },
      {
        x: 698,
        y: 409
      },
      {
        x: 698,
        y: 428
      },
      {
        x: 562,
        y: 428
      }
    ]
  },
  {
    vertices: [
      {
        x: 722,
        y: 409
      },
      {
        x: 853,
        y: 409
      },
      {
        x: 853,
        y: 428
      },
      {
        x: 722,
        y: 428
      }
    ]
  },
  {
    vertices: [
      {
        x: 880,
        y: 409
      },
      {
        x: 1017,
        y: 409
      },
      {
        x: 1017,
        y: 428
      },
      {
        x: 880,
        y: 428
      }
    ]
  },
  {
    vertices: [
      {
        x: 64,
        y: 444
      },
      {
        x: 78,
        y: 444
      },
      {
        x: 78,
        y: 469
      },
      {
        x: 64,
        y: 469
      }
    ]
  },
  {
    vertices: [
      {
        x: 109,
        y: 444
      },
      {
        x: 239,
        y: 444
      },
      {
        x: 239,
        y: 469
      },
      {
        x: 109,
        y: 469
      }
    ]
  },
  {
    vertices: [
      {
        x: 270,
        y: 444
      },
      {
        x: 287,
        y: 444
      },
      {
        x: 287,
        y: 469
      },
      {
        x: 270,
        y: 469
      }
    ]
  },
  {
    vertices: [
      {
        x: 66,
        y: 494
      },
      {
        x: 201,
        y: 494
      },
      {
        x: 201,
        y: 512
      },
      {
        x: 66,
        y: 512
      }
    ]
  },
  {
    vertices: [
      {
        x: 224,
        y: 494
      },
      {
        x: 356,
        y: 494
      },
      {
        x: 356,
        y: 512
      },
      {
        x: 224,
        y: 512
      }
    ]
  },
  {
    vertices: [
      {
        x: 384,
        y: 494
      },
      {
        x: 518,
        y: 494
      },
      {
        x: 518,
        y: 512
      },
      {
        x: 384,
        y: 512
      }
    ]
  },
  {
    vertices: [
      {
        x: 67,
        y: 553
      },
      {
        x: 94,
        y: 553
      },
      {
        x: 94,
        y: 578
      },
      {
        x: 67,
        y: 578
      }
    ]
  },
  {
    vertices: [
      {
        x: 562,
        y: 790
      },
      {
        x: 700,
        y: 790
      },
      {
        x: 700,
        y: 808
      },
      {
        x: 562,
        y: 808
      }
    ]
  },
  {
    vertices: [
      {
        x: 723,
        y: 790
      },
      {
        x: 854,
        y: 790
      },
      {
        x: 854,
        y: 808
      },
      {
        x: 723,
        y: 808
      }
    ]
  },
  {
    vertices: [
      {
        x: 881,
        y: 790
      },
      {
        x: 1017,
        y: 790
      },
      {
        x: 1017,
        y: 808
      },
      {
        x: 881,
        y: 808
      }
    ]
  },
  {
    vertices: [
      {
        x: 830,
        y: 790
      },
      {
        x: 1020,
        y: 777
      },
      {
        x: 1024,
        y: 836
      },
      {
        x: 834,
        y: 849
      }
    ]
  },
  {
    vertices: [
      {
        x: 65,
        y: 907
      },
      {
        x: 203,
        y: 907
      },
      {
        x: 203,
        y: 925
      },
      {
        x: 65,
        y: 925
      }
    ]
  },
  {
    vertices: [
      {
        x: 225,
        y: 907
      },
      {
        x: 354,
        y: 907
      },
      {
        x: 354,
        y: 925
      },
      {
        x: 225,
        y: 925
      }
    ]
  },
  {
    vertices: [
      {
        x: 383,
        y: 907
      },
      {
        x: 406,
        y: 907
      },
      {
        x: 406,
        y: 925
      },
      {
        x: 383,
        y: 925
      }
    ]
  },
  {
    vertices: [
      {
        x: 428,
        y: 907
      },
      {
        x: 519,
        y: 907
      },
      {
        x: 519,
        y: 925
      },
      {
        x: 428,
        y: 925
      }
    ]
  },
  {
    vertices: [
      {
        x: 66,
        y: 970
      },
      {
        x: 93,
        y: 970
      },
      {
        x: 93,
        y: 991
      },
      {
        x: 66,
        y: 991
      }
    ]
  },
  {
    vertices: [
      {
        x: 67,
        y: 1343
      },
      {
        x: 204,
        y: 1343
      },
      {
        x: 204,
        y: 1359
      },
      {
        x: 67,
        y: 1359
      }
    ]
  },
  {
    vertices: [
      {
        x: 945,
        y: 1342
      },
      {
        x: 1014,
        y: 1342
      },
      {
        x: 1014,
        y: 1360
      },
      {
        x: 945,
        y: 1360
      }
    ]
  }
];

let img_width;
let img_height;
let img;

// wait for window to load
// window.onload = () => {
//   img.onload = () => {};
// };

setTimeout(function() {
  drawBoxes();
}, 2000);

function drawBoxes() {
  const canvas = document.getElementById("canvas");
  const ctx = canvas.getContext("2d");

  img = document.getElementById("main-img");

  //   console.log(img);

  img_width = img.width;
  img_height = img.height;

  canvas.width = img_width;
  canvas.height = img_height;

  // draw image onto canvas
  ctx.drawImage(img, 0, 0);

  //   console.log("here");

  // iterate through all blocks
  for (let i = 0; i < blocks.length; i++) {
    let topL = blocks[i].vertices[0];
    let topR = blocks[i].vertices[1];
    let botR = blocks[i].vertices[2];
    let botL = blocks[i].vertices[3];

    let width = topR.x - topL.x;
    let height = botL.y - topL.y;
    ctx.beginPath();
    ctx.lineWidth = "3";
    ctx.strokeStyle = "blue";
    ctx.rect(topL.x, topL.y, width, height);
    // ctx.fillStyle = "green";
    // ctx.fillRect(topL.x, topL.y, width, height);
    ctx.stroke();
  }
}
